diff -durN jabber-1.4.2.orig/configure jabber-1.4.2/configure
--- jabber-1.4.2.orig/configure	Mon Feb 11 20:14:06 2002
+++ jabber-1.4.2/configure	Sun Sep 14 17:19:50 2003
@@ -32,7 +32,7 @@
 LDFLAGS="$LDFLAGS"
 LIBS="$LIBS"
 XLDFLAGS="$XLDFLAGS "
-JHOME=`pwd`
+[ -n "$JHOME" ] || JHOME=`pwd`
 
 ##
 # Print a cool header
diff -durN jabber-1.4.2.orig/jabber.xml jabber-1.4.2/jabber.xml
--- jabber-1.4.2.orig/jabber.xml	Tue May 15 17:21:56 2001
+++ jabber-1.4.2/jabber.xml	Sun Sep 14 17:20:32 2003
@@ -264,26 +264,26 @@
     -->
 
     <load main="jsm">
-      <jsm>./jsm/jsm.so</jsm>
-      <mod_echo>./jsm/jsm.so</mod_echo>
-      <mod_roster>./jsm/jsm.so</mod_roster>
-      <mod_time>./jsm/jsm.so</mod_time>
-      <mod_vcard>./jsm/jsm.so</mod_vcard>
-      <mod_last>./jsm/jsm.so</mod_last>
-      <mod_version>./jsm/jsm.so</mod_version>
-      <mod_announce>./jsm/jsm.so</mod_announce>
-      <mod_agents>./jsm/jsm.so</mod_agents>
-      <mod_browse>./jsm/jsm.so</mod_browse>
-      <mod_admin>./jsm/jsm.so</mod_admin>
-      <mod_filter>./jsm/jsm.so</mod_filter>
-      <mod_offline>./jsm/jsm.so</mod_offline>
-      <mod_presence>./jsm/jsm.so</mod_presence>
-      <mod_auth_plain>./jsm/jsm.so</mod_auth_plain>
-      <mod_auth_digest>./jsm/jsm.so</mod_auth_digest>
-      <mod_auth_0k>./jsm/jsm.so</mod_auth_0k>
-      <mod_log>./jsm/jsm.so</mod_log>
-      <mod_register>./jsm/jsm.so</mod_register>
-      <mod_xml>./jsm/jsm.so</mod_xml>
+      <jsm>/usr/lib/jabberd14/jsm.so</jsm>
+      <mod_echo>/usr/lib/jabberd14/jsm.so</mod_echo>
+      <mod_roster>/usr/lib/jabberd14/jsm.so</mod_roster>
+      <mod_time>/usr/lib/jabberd14/jsm.so</mod_time>
+      <mod_vcard>/usr/lib/jabberd14/jsm.so</mod_vcard>
+      <mod_last>/usr/lib/jabberd14/jsm.so</mod_last>
+      <mod_version>/usr/lib/jabberd14/jsm.so</mod_version>
+      <mod_announce>/usr/lib/jabberd14/jsm.so</mod_announce>
+      <mod_agents>/usr/lib/jabberd14/jsm.so</mod_agents>
+      <mod_browse>/usr/lib/jabberd14/jsm.so</mod_browse>
+      <mod_admin>/usr/lib/jabberd14/jsm.so</mod_admin>
+      <mod_filter>/usr/lib/jabberd14/jsm.so</mod_filter>
+      <mod_offline>/usr/lib/jabberd14/jsm.so</mod_offline>
+      <mod_presence>/usr/lib/jabberd14/jsm.so</mod_presence>
+      <mod_auth_plain>/usr/lib/jabberd14/jsm.so</mod_auth_plain>
+      <mod_auth_digest>/usr/lib/jabberd14/jsm.so</mod_auth_digest>
+      <mod_auth_0k>/usr/lib/jabberd14/jsm.so</mod_auth_0k>
+      <mod_log>/usr/lib/jabberd14/jsm.so</mod_log>
+      <mod_register>/usr/lib/jabberd14/jsm.so</mod_register>
+      <mod_xml>/usr/lib/jabberd14/jsm.so</mod_xml>
     </load>
 
   </service>
@@ -295,10 +295,10 @@
   <xdb id="xdb">
     <host/>
     <load>
-      <xdb_file>./xdb_file/xdb_file.so</xdb_file>
+      <xdb_file>/usr/lib/jabberd14/xdb_file.so</xdb_file>
     </load>
     <xdb_file xmlns="jabber:config:xdb_file">
-      <spool><jabberd:cmdline flag='s'>./spool</jabberd:cmdline></spool>
+      <spool><jabberd:cmdline flag='s'>/var/lib/jabberd14/spool</jabberd:cmdline></spool>
     </xdb_file>
   </xdb>
 
@@ -319,7 +319,7 @@
 
   <service id="c2s">
     <load>
-      <pthsock_client>./pthsock/pthsock_client.so</pthsock_client>
+      <pthsock_client>/usr/lib/jabberd14/pthsock_client.so</pthsock_client>
     </load>
     <pthcsock xmlns='jabber:config:pth-csock'>
       <authtime/>
@@ -359,7 +359,7 @@
     <host/>
     <logtype/>
     <format>%d: [%t] (%h): %s</format>
-    <file>error.log</file>
+    <file>/var/log/jabberd14/error.log</file>
     <stderr/>
   </log>
 
@@ -372,7 +372,7 @@
     <host/>
     <logtype>record</logtype>
     <format>%d %h %s</format>
-    <file>record.log</file>
+    <file>/var/log/jabberd14/record.log</file>
   </log>
 
   <!-- The following two services are for handling server-to-server traffic. -->
@@ -382,7 +382,7 @@
   <service id="dnsrv">
     <host/>
     <load>
-      <dnsrv>./dnsrv/dnsrv.so</dnsrv>
+      <dnsrv>/usr/lib/jabberd14/dnsrv.so</dnsrv>
     </load>
     <dnsrv xmlns="jabber:config:dnsrv">
     	<resend service="_jabber._tcp">s2s</resend> <!-- for supporting SRV records -->
@@ -401,7 +401,7 @@
 
   <service id="s2s">
     <load>
-      <dialback>./dialback/dialback.so</dialback>
+      <dialback>/usr/lib/jabberd14/dialback.so</dialback>
     </load>
     <dialback xmlns='jabber:config:dialback'>
       <legacy/>
@@ -596,7 +596,7 @@
   <!--
   This specifies the file to store the pid of the process in.
   -->
-  <pidfile>./jabber.pid</pidfile>
+  <pidfile>/var/run/jabber/jabberd14.pid</pidfile>
 
 
 </jabber>
diff -durN jabber-1.4.2.orig/jabberd/config.c jabber-1.4.2/jabberd/config.c
--- jabber-1.4.2.orig/jabberd/config.c	Fri Feb  8 08:39:26 2002
+++ jabber-1.4.2/jabberd/config.c	Sun Sep 14 17:19:50 2003
@@ -174,7 +174,7 @@
 
 int configurate(char *file)
 {
-    char def[] = "jabber.xml";
+    char def[] = "/etc/jabber/jabberd14.xml";
     char *realfile = (char *)def;
     xmlnode incl;
     char *c;
